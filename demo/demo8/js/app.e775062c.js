(function(t){function e(e){for(var i,r,a=e[0],c=e[1],l=e[2],u=0,f=[];u<a.length;u++)r=a[u],n[r]&&f.push(n[r][0]),n[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);d&&d(e);while(f.length)f.shift()();return o.push.apply(o,l||[]),s()}function s(){for(var t,e=0;e<o.length;e++){for(var s=o[e],i=!0,r=1;r<s.length;r++){var c=s[r];0!==n[c]&&(i=!1)}i&&(o.splice(e--,1),t=a(a.s=s[0]))}return t}var i={},n={app:0},o=[];function r(t){return a.p+"js/"+({ratings:"ratings",seller:"seller"}[t]||t)+"."+{ratings:"6dfda6e3",seller:"b8ab7d17"}[t]+".js"}function a(e){if(i[e])return i[e].exports;var s=i[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.e=function(t){var e=[],s=n[t];if(0!==s)if(s)e.push(s[2]);else{var i=new Promise(function(e,i){s=n[t]=[e,i]});e.push(s[2]=i);var o,c=document.createElement("script");c.charset="utf-8",c.timeout=120,a.nc&&c.setAttribute("nonce",a.nc),c.src=r(t),o=function(e){c.onerror=c.onload=null,clearTimeout(l);var s=n[t];if(0!==s){if(s){var i=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src,r=new Error("Loading chunk "+t+" failed.\n("+i+": "+o+")");r.type=i,r.request=o,s[1](r)}n[t]=void 0}};var l=setTimeout(function(){o({type:"timeout",target:c})},12e4);c.onerror=c.onload=o,document.head.appendChild(c)}return Promise.all(e)},a.m=t,a.c=i,a.d=function(t,e,s){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(s,i,function(e){return t[e]}.bind(null,i));return s},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var d=l;o.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0639":function(t,e,s){"use strict";var i=s("834f"),n=s.n(i);n.a},"3cc2":function(t,e,s){"use strict";var i=s("f352"),n=s.n(i);n.a},5161:function(t,e,s){"use strict";var i=s("b57a"),n=s.n(i);n.a},"56d7":function(t,e,s){"use strict";s.r(e);s("cadf"),s("551c"),s("f751"),s("097d");var i=s("2b0e"),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("vhead",{attrs:{seller:t.seller}}),s("div",{attrs:{id:"nav"}},[s("div",{staticClass:"item"},[s("router-link",{attrs:{to:{name:"goods"}}},[t._v("商品")])],1),s("div",{staticClass:"item"},[s("router-link",{attrs:{to:{name:"ratings"}}},[t._v("评论")])],1),s("div",{staticClass:"item"},[s("router-link",{attrs:{to:{name:"seller"}}},[t._v("商家")])],1),s("span")]),s("keep-alive",[s("router-view",{attrs:{seller:t.seller}})],1)],1)},o=[],r=s("7338"),a=s.n(r),c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header"},[t._m(0),s("div",{staticClass:"wrapper"},[s("div",{staticClass:"avatar"},[s("img",{attrs:{src:t.seller.avatar}})]),s("div",{staticClass:"content"},[s("div",{staticClass:"text"},[s("p",[t._v(t._s(t.seller.deliveryTime)+"分钟 | "+t._s(t.seller.score)+"KM")]),s("p",[t._v("公告:"+t._s(t.seller.bulletin))])]),s("div",{staticClass:"xh"},[s("ul",{staticClass:"title",on:{click:function(e){return t.tanchu()}}},[t._l(t.seller.supports,function(e,i){return s("li",[s("span",{staticClass:"icon",class:t.iconclass[t.seller.supports[i].type]}),s("span",[t._v(t._s(t.seller.supports[i].description))])])}),t._m(1)],2)])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.tanchur,expression:"tanchur"}],staticClass:"tanchu"},[s("div",{staticClass:"tanchubg",on:{click:function(e){return t.tanchubg()}}},[s("div",{staticClass:"tanchubox"},[s("ul",{staticClass:"item"},t._l(t.seller.supports,function(e,i){return s("li",[s("span",{staticClass:"icon",class:t.iconclass[t.seller.supports[i].type]}),s("span",[t._v(t._s(t.seller.supports[i].description))])])}),0),s("div",{staticClass:"item"},[s("p",[t._v("配送")]),s("p",[t._v("起送"+t._s(t.seller.minPrice)+"￥")]),s("p",[t._v(t._s(t.seller.description+"/"+t.seller.deliveryTime+"分钟送达"))])]),s("div",{staticClass:"item"},[s("p",[t._v("公告")]),s("p",[t._v(t._s(t.seller.bulletin))])])])])])])},l=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"comeback"},[i("img",{attrs:{src:s("93d2")}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",[s("span",{staticClass:"icon decrease"}),s("span",[t._v("在线支付满28减5")])])}];function u(){var t=0;function e(){document.getElementsByTagName("ul")[0].style.transition=".5s",document.getElementsByTagName("ul")[0].style.top=-30*t+"px"}function s(){t++,e(),6==t&&(document.getElementsByTagName("ul")[0].style.transition="0s",document.getElementsByTagName("ul")[0].style.top="-0px",t=0)}function i(){setInterval(function(){s()},3e3)}i()}var d={name:"header",props:{seller:{type:Object}},data:function(){return{tanchur:!1}},created:function(){this.iconclass=["decrease","discount","special","invoice","guarantee"],u()},methods:{tanchu:function(){this.tanchur=!0,console.log("s")},tanchubg:function(){this.tanchur=!1}}},f=d,h=(s("ef2c"),s("2877")),v=Object(h["a"])(f,c,l,!1,null,null,null),p=v.exports,m={name:"app",data:function(){return{seller:{}}},mounted:function(){var t=this;a.a.get("./data.json").then(function(e){t.seller=e.data.seller})},components:{vhead:p},methods:{}},g=m,_=(s("5c0b"),Object(h["a"])(g,n,o,!1,null,null,null)),C=_.exports,w=s("8c4f"),b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"goods"},[s("div",{staticClass:"foodwrapper"},[s("div",{ref:"left",staticClass:"left"},[s("ul",t._l(t.goods,function(e,i){return s("li",{class:{active:t.isActive===i},on:{click:function(e){return t.selectMenu(i)}}},[s("span",[t._v(t._s(e.name))]),t._v("\n\t \t\t\t\t"+t._s(t.totalCount)+"\n\t \t\t\t")])}),0)]),s("div",{ref:"right",staticClass:"right"},[s("ul",t._l(t.goods,function(e){return s("li",{staticClass:"food-list-hook"},[s("h1",[t._v(t._s(e.name))]),s("ul",t._l(e.foods,function(e){return s("li",{on:{click:function(s){return t.selectFood(e)}}},[s("div",{staticClass:"content"},[s("div",{staticClass:"icon"},[s("img",{attrs:{src:e.icon}})]),s("div",{staticClass:"title"},[s("div",{staticClass:"text"},[s("p",[t._v(t._s(e.name))]),s("p",[t._v("月售"+t._s(e.sellCount)+"  赞"+t._s(e.ratings.length))])]),s("div",{staticClass:"price"},[s("div",[t._v("￥"+t._s(e.price))]),e.oldPrice?s("div",{staticClass:"oldprice"},[t._v("￥"+t._s(e.oldPrice))]):t._e()]),s("cartcontrol",{attrs:{food:e}})],1)])])}),0)])}),0)])]),s("shopcart",{attrs:{"select-foods":t.selectFoods,"delivery-price":t.seller.deliveryPrice,"min-price":t.seller.minPrice}}),s("food",{ref:"food",attrs:{food:t.selectedFood}})],1)},P=[],y=(s("ac6a"),s("d2b4")),x=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"shopcart"},[s("div",{staticClass:"content"},[s("div",{staticClass:"left"},[s("div",{staticClass:"icon",class:{highlight:t.totalCount>0},on:{click:function(e){return t.toggleList()}}},[s("div",{class:{highlight:t.totalCount>0}},[t._v(t._s(t.totalCount))])]),s("div",{staticClass:"text"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.totalPrice>0,expression:"totalPrice > 0"}],staticClass:"price"},[s("div",[t._v("￥")]),s("div",[t._v(t._s(t.totalPrice))])]),s("div",{staticClass:"desc",class:{highlight:t.totalPrice>0}},[t._v("另需配送费"+t._s(t.deliveryPrice)+"元")])])]),s("div",{staticClass:"right",class:{highlight:t.totalPrice>0,highlight1:t.totalPrice>t.minPrice}},[s("div",{staticClass:"pay",on:{click:function(e){return t.pay()}}},[t._v("\n\t\t\t\t "+t._s(t.payDesc)+"\n\t\t\t")])])]),t.totalPrice>t.minPrice-5?s("div",{directives:[{name:"show",rawName:"v-show",value:t.headershow,expression:"headershow"}],staticClass:"trheader"},[t.totalPrice>t.minPrice-5&&t.totalPrice<t.minPrice?s("div",[t._v("还差")]):t._e(),s("div",[t._v(t._s(t.trboxpayDesc))]),t.totalPrice>t.minPrice-5&&t.totalPrice<t.minPrice?s("div",[t._v("就能起送")]):t._e(),t.totalPrice>t.minPrice-5&&t.totalPrice<t.minPrice?s("div",[t._v("去凑单")]):t._e()]):t._e(),s("transition",{attrs:{name:"fold"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.listShow,expression:"listShow"}],staticClass:"trbox"},[t.totalPrice>t.minPrice-5?s("div",{staticClass:"mid"},[s("h1",[t._v("购物车")]),s("div",{staticClass:"menu",on:{click:function(e){return t.menuclick()}}},[t._v("\n\t\t\t\t\t清空购物车\n\t\t\t\t")])]):t._e(),s("div",{staticClass:"gwcbox"},[s("div",{staticClass:"list"},[s("ul",t._l(t.selectFoods,function(e){return s("li",[s("span",[t._v(t._s(e.name))]),s("span",[t._v("￥"+t._s(e.price*e.count))]),s("span",{staticClass:"cartcontrol"},[s("cartcontrol",{attrs:{food:e}})],1)])}),0)])])])])],1)},A=[],E=(s("c5f6"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cartcontrol"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.food.count>0,expression:"food.count>0"}],staticClass:"cart-decrease",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.decrease()}}}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.food.count>0,expression:"food.count>0"}],staticClass:"cart-count"},[t._v(t._s(t.food.count))]),s("div",{staticClass:"cart-add",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.addcart()}}})])}),k=[],O={name:"cartcontrol",props:{food:{type:Object}},methods:{addcart:function(){this.food.count?this.food.count++:i["a"].set(this.food,"count",1)},decrease:function(){this.food.count&&this.food.count--}}},j=O,N=(s("3cc2"),Object(h["a"])(j,E,k,!1,null,null,null)),T=N.exports,S={name:"shopcart",props:{selectFoods:{type:Array,default:function(){return[]}},deliveryPrice:{type:Number,default:0},minPrice:{type:Number,default:0}},data:function(){return{headershow:!0,listShow:!1}},components:{cartcontrol:T},computed:{totalPrice:function(){var t=0;return this.selectFoods.forEach(function(e){t+=e.price*e.count}),t},totalCount:function(){var t=0;return this.selectFoods.forEach(function(e){t+=e.count}),t},payDesc:function(){if(0===this.totalPrice)return"￥".concat(this.minPrice,"元起送");if(this.totalPrice<this.minPrice){var t=this.minPrice-this.totalPrice;return"差".concat(t,"元起送")}return"去结算"},trboxpayDesc:function(){if(this.totalPrice>this.minPrice-5&&this.totalPrice<this.minPrice){var t=this.minPrice-this.totalPrice;return"".concat(t,"元")}return"以满足起送价"},menuclick:function(){this.selectFoods.forEach(function(t){t.count=0})},listShow:function(){if(!this.totalCount)return this.listShow=!0,!1}},methods:{toggleList:function(){this.totalCount&&(this.headershow=!this.headershow,this.listShow=!this.listShow)},pay:function(){this.totalPrice<this.minPrice||(alert("支付".concat(this.totalPrice,"元成功")),this.selectFoods.forEach(function(t){t.count=0}))}}},F=S,H=(s("0639"),Object(h["a"])(F,x,A,!1,null,null,null)),$=H.exports,B=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.foodbox,expression:"foodbox"}],staticClass:"food"},[s("div",{staticClass:"content"},[s("div",{staticClass:"imgwrap"},[s("img",{attrs:{src:t.food.image}})]),s("div",{staticClass:"mid"},[s("div",[t._v(t._s(t.food.name))]),s("span",[t._v("月售"+t._s(t.food.sellCount))]),s("span",[t._v("赞"+t._s(t.food.rating))])]),s("div",{staticClass:"bottom"},[s("div",{staticClass:"price"},[t._v("￥"+t._s(t.food.price))]),s("cartcontrol",{staticClass:"cartcontrolwarp",attrs:{food:t.food}}),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.food.count||0===t.food.count,expression:"!food.count ||food.count === 0"}],staticClass:"gwc",on:{click:function(e){return t.addgwc()}}},[s("div",[t._v("加入购物车")])]),s("div",{staticClass:"del",on:{click:function(e){return t.del()}}})],1)])])])},M=[],D={props:{food:{typr:Object}},data:function(){return{foodbox:!1}},methods:{show:function(){this.foodbox=!0},del:function(){this.foodbox=!1},addgwc:function(){i["a"].set(this.food,"count",1)}},components:{cartcontrol:T}},Q=D,R=(s("5c74"),Object(h["a"])(Q,B,M,!1,null,null,null)),W=R.exports,Y={name:"goods",data:function(){return{goods:[],listHeight:[],scrollY:0,clickEvent:!1,selectedFood:[],foodbox:!1}},props:{seller:{type:Object}},mounted:function(){var t=this;a.a.get("./data.json").then(function(e){t.goods=e.data.goods,t.$nextTick(function(){t._initScroll(),t._getHeight()})})},components:{shopcart:$,cartcontrol:T,food:W},methods:{_initScroll:function(){var t=this;this.left=new y["a"](this.$refs.left,{click:!0}),this.right=new y["a"](this.$refs.right,{click:!0,probeType:3}),this.right.on("scroll",function(e){t.scrollY=Math.abs(Math.round(e.y))})},_getHeight:function(){var t=this.$refs.right.getElementsByClassName("food-list-hook"),e=0;this.listHeight.push(e);for(var s=0;s<t.length;s++)e+=t[s].clientHeight,this.listHeight.push(e)},selectMenu:function(t){var e=this.$refs.right.getElementsByClassName("food-list-hook"),s=e[t];this.right.scrollToElement(s,300),console.log(t)},selectFood:function(t){event._constructed&&(this.clickEvent=!0,this.selectedFood=t,this.foodbox=!0,this.$refs.food.show())}},computed:{isActive:function(){for(var t=0;t<this.listHeight.length;t++){var e=this.listHeight[t],s=this.listHeight[t+1];if(!s||this.scrollY>=e&&this.scrollY<s)return t;if(this.listHeight[this.listHeight.length-1]-this.$refs.right.clientHeight<=this.scrollY)return this.listHeight.length-1}return 0},selectFoods:function(){var t=[];return this.goods.forEach(function(e){e.foods.forEach(function(e){e.count&&t.push(e)})}),t}}},I=Y,U=(s("5161"),Object(h["a"])(I,b,P,!1,null,null,null)),q=U.exports;i["a"].use(w["a"]);var K=new w["a"]({linkActiveClass:"active",routes:[{path:"/",redirect:"/goods"},{path:"/goods",name:"goods",component:q},{path:"/ratings",name:"ratings",component:function(){return s.e("ratings").then(s.bind(null,"9bac"))}},{path:"/seller",name:"seller",component:function(){return s.e("seller").then(s.bind(null,"38d4"))}}]}),V=s("2f62");i["a"].use(V["a"]);var L=new V["a"].Store({state:{},mutations:{},actions:{}});i["a"].config.productionTip=!1,new i["a"]({router:K,store:L,render:function(t){return t(C)}}).$mount("#app")},"5c0b":function(t,e,s){"use strict";var i=s("5e27"),n=s.n(i);n.a},"5c74":function(t,e,s){"use strict";var i=s("a36e"),n=s.n(i);n.a},"5e27":function(t,e,s){},"626c":function(t,e,s){},"834f":function(t,e,s){},"93d2":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAp0lEQVQ4T6WTsQ4BURBFz/wWiVJHqRINOoVCIdEQUflHicJ3HHnJbrLh7Xq7pr9n7szcCf6sKNWrW2AWEfOmpgig7oATMI6IRy+AegD2wORTnECdDhri1PmZG7cVoF6AdWU7K251oN6BRWW7VZwFqDdgCYwi4vXrSl8jqFdgNRiQOv41Qm1ZPQObQUtsQOoM9D9jKaRPlI+5NBYBqsWmf5gOeqauLLwBKy5EER2T5mUAAAAASUVORK5CYII="},a36e:function(t,e,s){},b57a:function(t,e,s){},ef2c:function(t,e,s){"use strict";var i=s("626c"),n=s.n(i);n.a},f352:function(t,e,s){}});
//# sourceMappingURL=app.e775062c.js.map
(function(t){function s(s){for(var a,o,r=s[0],l=s[1],c=s[2],d=0,f=[];d<r.length;d++)o=r[d],n[o]&&f.push(n[o][0]),n[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);u&&u(s);while(f.length)f.shift()();return i.push.apply(i,c||[]),e()}function e(){for(var t,s=0;s<i.length;s++){for(var e=i[s],a=!0,r=1;r<e.length;r++){var l=e[r];0!==n[l]&&(a=!1)}a&&(i.splice(s--,1),t=o(o.s=e[0]))}return t}var a={},n={app:0},i=[];function o(s){if(a[s])return a[s].exports;var e=a[s]={i:s,l:!1,exports:{}};return t[s].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=t,o.c=a,o.d=function(t,s,e){o.o(t,s)||Object.defineProperty(t,s,{enumerable:!0,get:e})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,s){if(1&s&&(t=o(t)),8&s)return t;if(4&s&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&s&&"string"!=typeof t)for(var a in t)o.d(e,a,function(s){return t[s]}.bind(null,a));return e},o.n=function(t){var s=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(s,"a",s),s},o.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)},o.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=s,r=r.slice();for(var c=0;c<r.length;c++)s(r[c]);var u=l;i.push([0,"chunk-vendors"]),e()})({0:function(t,s,e){t.exports=e("56d7")},"0639":function(t,s,e){"use strict";var a=e("834f"),n=e.n(a);n.a},"2e0b":function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[t._v("\n\t我是ratings\n")])},n=[],i={name:"ratings"},o=i,r=e("2877"),l=Object(r["a"])(o,a,n,!1,null,null,null);s["default"]=l.exports},"3cc2":function(t,s,e){"use strict";var a=e("f352"),n=e.n(a);n.a},"4ee2":function(t,s,e){},"56d7":function(t,s,e){"use strict";e.r(s);e("cadf"),e("551c"),e("f751"),e("097d");var a=e("2b0e"),n=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"app"},[e("vheader",{attrs:{seller:t.seller}}),e("div",{staticClass:"tab"},[e("div",{staticClass:"tab-item"},[e("router-link",{attrs:{to:{name:"goods"}}},[t._v("商品")])],1),e("div",{staticClass:"tab-item"},[e("router-link",{attrs:{to:{name:"ratings"}}},[t._v("评论")])],1),e("div",{staticClass:"tab-item"},[e("router-link",{attrs:{to:{name:"seller"}}},[t._v("商家")])],1)]),e("router-view",{attrs:{seller:t.seller}})],1)},i=[],o=e("7338"),r=e.n(o),l=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"header"},[e("div",{staticClass:"content-wrapper"},[e("div",{staticClass:"avatar"},[e("img",{attrs:{src:t.seller.avatar}})]),e("div",{staticClass:"content"},[e("div",{staticClass:"title"},[e("span",{staticClass:"brand"}),e("span",{staticClass:"name"},[t._v(t._s(t.seller.name))])]),e("div",{staticClass:"description"},[t._v("\n\t\t\t\t"+t._s(t.seller.description+"/"+t.seller.deliveryTime+"分钟送达")+"\n\t\t\t")]),t.seller.supports?e("div",{staticClass:"support"},[e("span",{staticClass:"icon",class:t.classMap[t.seller.supports[0].type]}),e("span",{staticClass:"text"},[t._v(t._s(t.seller.supports[0].description))])]):t._e()]),t.seller.supports?e("div",{staticClass:"support-count",on:{click:function(s){return t.showDetail()}}},[e("span",{staticClass:"count"},[t._v(t._s(t.seller.supports.length)+"个")]),e("i",{staticClass:"count-icon"})]):t._e()]),e("div",{staticClass:"bulletin-wrapper",on:{click:function(s){return t.showDetail()}}},[e("span",{staticClass:"bulletin-title"}),e("span",{staticClass:"bulletin-text"},[t._v(t._s(t.seller.bulletin))])]),e("div",{staticClass:"background"},[e("img",{attrs:{src:t.seller.avatar}})]),e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.detailShow,expression:"detailShow"}],staticClass:"detail"},[e("div",{staticClass:"detail-wrapper  clearfix"},[e("div",{staticClass:"detail-main"},[e("h1",{staticClass:"name"},[t._v(t._s(t.seller.name))]),e("div",{staticClass:"star-wrapper"},[e("star",{attrs:{size:48,score:t.seller.score}})],1),e("div",{staticClass:"title"},[e("div",{staticClass:"line"}),e("div",{staticClass:"text"},[t._v("优惠信息")]),e("div",{staticClass:"line"})]),t.seller.supports?e("ul",{staticClass:"supports"},t._l(t.seller.supports,function(s,a){return e("li",{staticClass:"support-item"},[e("span",{staticClass:"icon",class:t.classMap[t.seller.supports[a].type]}),e("span",{staticClass:"text"},[t._v(t._s(t.seller.supports[a].description))])])}),0):t._e(),e("div",{staticClass:"title"},[e("div",{staticClass:"line"}),e("div",{staticClass:"text"},[t._v("商家公告")]),e("div",{staticClass:"line"})]),e("div",{staticClass:"bulletin"},[e("p",{staticClass:"content"},[t._v(t._s(t.seller.bulletin))])])])]),e("div",{staticClass:"detail-close",on:{click:function(s){return t.hideDetail()}}},[e("i",{staticClass:"closesvg"})])])])],1)},c=[],u=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"star",class:t.starType},t._l(t.itemClasses,function(t,s){return e("span",{key:s,staticClass:"star-item",class:t})}),0)},d=[],f=(e("c5f6"),5),p="on",v="half",h="off",m={name:"star",props:{size:{type:Number},score:{type:Number}},computed:{starType:function(){return"star-"+this.size},itemClasses:function(){for(var t=[],s=Math.floor(2*this.score)/2,e=s%1!==0,a=Math.floor(s),n=0;n<a;n++)t.push(p);e&&t.push(v);while(t.length<f)t.push(h);return t}}},C=m,w=(e("82c3"),e("2877")),_=Object(w["a"])(C,u,d,!1,null,null,null),g=_.exports,b={name:"header",props:{seller:{type:Object}},data:function(){return{detailShow:!1}},methods:{showDetail:function(){this.detailShow=!0},hideDetail:function(){this.detailShow=!1}},created:function(){this.classMap=["decrease","discount","special","invoice","guarantee"]},components:{star:g}},y=b,x=(e("a14e"),Object(w["a"])(y,l,c,!1,null,null,null)),P=x.exports,k={name:"app",data:function(){return{seller:{}}},mounted:function(){var t=this;r.a.get("data.json").then(function(s){return t.seller=s.data.seller})},components:{vheader:P}},j=k,O=(e("5c0b"),Object(w["a"])(j,n,i,!1,null,null,null)),$=O.exports,E=e("8c4f");e("58b2"),e("2e0b"),e("fe09");a["a"].use(E["a"]);var F=new E["a"]({linkActiveClass:"active",routes:[{path:"/",redirect:"/goods"},{path:"/goods",name:"goods",component:function(){return Promise.resolve().then(e.bind(null,"58b2"))}},{path:"/ratings",name:"ratings",component:function(){return Promise.resolve().then(e.bind(null,"2e0b"))}},{path:"/seller",name:"seller",component:function(){return Promise.resolve().then(e.bind(null,"fe09"))}}]}),N=e("2f62");a["a"].use(N["a"]);var S=new N["a"].Store({state:{},mutations:{},actions:{}});e("4ee2");a["a"].config.productionTip=!1,new a["a"]({router:F,store:S,render:function(t){return t($)}}).$mount("#app")},"58b2":function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"goods"},[e("div",{staticClass:"menu-wrapper"},[e("ul",t._l(t.goods,function(s){return e("li",{staticClass:"menu-item"},[e("span",{staticClass:"text"},[e("span",{directives:[{name:"show",rawName:"v-show",value:s.type>0,expression:"item.type>0"}],staticClass:"icon",class:t.classMap[s.type]}),t._v(t._s(s.name)+"\n\t\t\t\t")])])}),0)]),e("div",{ref:"foodsWrapper",staticClass:"foods-wrapper"},[e("ul",t._l(t.goods,function(s){return e("li",{staticClass:"food-list food-list-hook"},[e("h1",{staticClass:"title"},[t._v(t._s(s.name))]),e("ul",t._l(s.foods,function(s){return e("li",{staticClass:"food-item",on:{click:function(e){return t.selectFood(s,e)}}},[e("div",{staticClass:"icon"},[e("img",{attrs:{src:s.icon}})]),e("div",{staticClass:"content"},[e("h2",{staticClass:"name"},[t._v(t._s(s.name))]),e("p",{staticClass:"desc"},[t._v(t._s(s.description))]),e("div",{staticClass:"extra"},[e("span",{staticClass:"count"},[t._v("月售"+t._s(s.sellCount)+"份")]),e("span",[t._v("好评率"+t._s(s.rating))])]),e("div",{staticClass:"price"},[e("span",{staticClass:"now"},[t._v("￥"+t._s(s.price))]),e("span",{directives:[{name:"show",rawName:"v-show",value:s.oldPrice,expression:"food.oldPrice"}],staticClass:"old"},[t._v("￥"+t._s(s.oldPrice))])]),e("div",{staticClass:"cartcontrol-wrapper"},[e("cartcontrol",{attrs:{food:s},on:{"cart-add":t.cartAdd}})],1)])])}),0)])}),0)]),e("shopcart",{ref:"shopcart",attrs:{"select-foods":t.selectFoods,"delivery-price":t.seller.deliveryPrice,"min-price":t.seller.minPrice}}),e("food",{ref:"food",attrs:{food:t.selectedFood}})],1)},n=[],i=(e("ac6a"),e("7338")),o=e.n(i),r=e("d2b4"),l=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"shopcart"},[e("div",{staticClass:"content",on:{click:t.toggleList}},[e("div",{staticClass:"content-left"},[e("div",{staticClass:"logo-wrappper"},[e("div",{staticClass:"logo",class:{highlight:t.totalCount>0}},[e("i",{staticClass:"logo-gwc",class:{highlight:t.totalCount>0}})]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.totalCount>0,expression:"totalCount > 0"}],staticClass:"num"},[t._v(t._s(t.totalCount))])]),e("div",{staticClass:"price",class:{highlight:t.totalPrice>0}},[t._v("￥"+t._s(t.totalPrice))]),e("div",{staticClass:"desc"},[t._v("另需配送费"+t._s(t.deliveryPrice)+"元")])]),e("div",{staticClass:"content-right"},[e("div",{staticClass:"pay",class:t.payClass,on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.pay(s)}}},[t._v("\n\t\t\t\t\t"+t._s(t.payDesc)+"\n\t\t\t\t")])])]),e("div",{staticClass:"ball-container"},t._l(t.balls,function(s){return e("div",[e("transition",{attrs:{name:"drop"},on:{"before-enter":t.beforeEnter,enter:t.enter,"after-enter":t.afterEnter}},[e("div",{directives:[{name:"show",rawName:"v-show",value:s.show,expression:"ball.show"}],staticClass:"ball"},[e("div",{staticClass:"inner inner-hook"})])])],1)}),0),e("transition",{attrs:{name:"fold"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.listShow,expression:"listShow"}],staticClass:"shopcart-list"},[e("div",{staticClass:"list-header"},[e("h1",{staticClass:"title"},[t._v("购物车")]),e("span",{staticClass:"empty",on:{click:t.empty}},[t._v("清空")])]),e("div",{ref:"listContent",staticClass:"list-content"},[e("ul",t._l(t.selectFoods,function(s){return e("li",{staticClass:"food"},[e("span",{staticClass:"name"},[t._v(t._s(s.name))]),e("div",{staticClass:"price"},[e("span",[t._v("￥"+t._s(s.price*s.count))])]),e("div",{staticClass:"cartcontrol-wrapper"},[e("cartcontrol",{attrs:{food:s}})],1)])}),0)])])])],1),e("transition",{attrs:{name:"mask"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.listShow,expression:"listShow"}],staticClass:"list-mask",on:{click:t.hideList}})])],1)},c=[],u=(e("c5f6"),function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"cartcontrol"},[e("transition",{attrs:{name:"move"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.food.count>0,expression:"food.count>0"}],staticClass:"cart-decrease",on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.decreaseCart(s)}}})]),e("transition",{attrs:{name:"count"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.food.count>0,expression:"food.count>0"}],staticClass:"cart-count"},[t._v(t._s(t.food.count))])]),e("div",{staticClass:"cart-add",on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.addCart(s)}}})],1)}),d=[],f=e("2b0e"),p={props:{food:{type:Object}},methods:{addCart:function(){var t=this;this.food.count?this.food.count++:f["a"].set(this.food,"count",1),this.$nextTick(function(){t.$emit("cart-add",event.target)})},decreaseCart:function(){this.food.count&&this.food.count--}}},v=p,h=(e("3cc2"),e("2877")),m=Object(h["a"])(v,u,d,!1,null,null,null),C=m.exports,w={name:"shopcart",data:function(){return{balls:[{show:!1},{show:!1},{show:!1},{show:!1},{show:!1}],dropBalls:[],fold:!0}},props:{selectFoods:{type:Array,default:function(){return[]}},deliveryPrice:{type:Number,default:0},minPrice:{type:Number,default:0}},components:{cartcontrol:C},computed:{totalPrice:function(){var t=0;return this.selectFoods.forEach(function(s){t+=s.price*s.count}),t},totalCount:function(){var t=0;return this.selectFoods.forEach(function(s){t+=s.count}),t},payDesc:function(){if(0===this.totalPrice)return"￥".concat(this.minPrice,"元起送");if(this.totalPrice<this.minPrice){var t=this.minPrice-this.totalPrice;return"还差".concat(t,"元起送")}return"去结算"},payClass:function(){return this.totalPrice<this.minPrice?"not-enough":"enough"},listShow:function(){var t=this;if(!this.totalCount)return this.fold=!0,!1;var s=!this.fold;return s&&this.$nextTick(function(){t.scroll?t.scroll.refresh():t.scroll=new r["a"](t.$refs.listContent,{click:!0})}),s}},methods:{drop:function(t){for(var s=0;s<this.balls.length;s++){var e=this.balls[s];if(!e.show)return e.show=!0,e.el=t,void this.dropBalls.push(e)}},beforeEnter:function(t){var s=this.balls.length;while(s--){var e=this.balls[s];if(e.show){var a=e.el.getBoundingClientRect(),n=a.left-32,i=-(window.innerHeight-a.top-22);t.style.display="",t.style.webKitTransform="translate3d(0,".concat(i,"px,0)"),t.style.transform="translate3d(0,".concat(i,"px,0)");var o=t.getElementsByClassName("inner-hook")[0];o.style.webKitTransform="translate3d(".concat(n,"px,0,0)"),o.style.transform="translate3d(".concat(n,"px,0,0)")}}},enter:function(t){t.offsetHeight;this.$nextTick(function(){t.style.webKitTransform="translate3d(0,0,0)",t.style.transform="translate3d(0,0,0)";var s=t.getElementsByClassName("inner-hook")[0];s.style.webKitTransform="translate3d(0,0,0)",s.style.transform="translate3d(0,0,0)"})},afterEnter:function(t){var s=this.dropBalls.shift();s&&(s.show=!1,t.style.display="none")},toggleList:function(){this.totalCount&&(this.fold=!this.fold)},empty:function(){this.selectFoods.forEach(function(t){t.count=0})},hideList:function(){this.fold=!0},pay:function(){this.totalPrice<this.minPrice||window.alert("支付".concat(this.totalPrice,"元"))}}},_=w,g=(e("0639"),Object(h["a"])(_,l,c,!1,null,null,null)),b=g.exports,y=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("transition",{attrs:{name:"move"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.showFlag,expression:"showFlag"}],ref:"food",staticClass:"food"},[e("div",{staticClass:"food-content"},[e("div",{staticClass:"image-header"},[e("img",{attrs:{src:t.food.image}}),e("div",{staticClass:"back",on:{click:t.hide}},[e("i",{staticClass:"comeBack"})])]),e("div",{staticClass:"content"},[e("h1",{staticClass:"title"},[t._v(t._s(t.food.name))]),e("div",{staticClass:"detail"},[e("span",{staticClass:"sell-count"},[t._v("月售"+t._s(t.food.sellCount)+"份")]),e("span",{staticClass:"rating"},[t._v("好评率"+t._s(t.food.rating)+"%")])]),e("div",{staticClass:"price"},[e("span",{staticClass:"now"},[t._v("￥"+t._s(t.food.price))]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.food.oldPrice,expression:"food.oldPrice"}],staticClass:"old"},[t._v("￥"+t._s(t.food.oldPrice))])]),e("div",{staticClass:"cartcontrol-wrapper"},[e("cartcontrol",{attrs:{food:t.food}})],1),e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.food.count||0===t.food.count,expression:"!food.count ||food.count === 0"}],staticClass:"buy",on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.addFirst(s)}}},[t._v("加入购物车")])])],1)])])])],1)},x=[],P={name:"food",props:{food:{type:Object}},data:function(){return{showFlag:!1}},methods:{show:function(){var t=this;this.showFlag=!0,this.$nextTick(function(){t.scroll?t.scroll.refresh():t.scroll=new r["a"](t.$refs.food,{click:!0})})},hide:function(){this.showFlag=!1},addFirst:function(t){this.$emit("cart-add",t.target),f["a"].set(this.food,"count",1)}},components:{cartcontrol:C}},k=P,j=(e("5c74"),Object(h["a"])(k,y,x,!1,null,null,null)),O=j.exports,$={name:"goods",data:function(){return{goods:[],selectedFood:{}}},props:{seller:{type:Object}},components:{shopcart:b,cartcontrol:C,food:O},mounted:function(){var t=this;o.a.get("data.json").then(function(s){return t.goods=s.data.goods})},created:function(){var t=this;this.classMap=["decrease","discount","special","invoice","guarantee"],this.$nextTick(function(){t.scroll?t.scroll.refresh():t.scroll=new r["a"](t.$refs.foodsWrapper,{click:!0})})},methods:{cartAdd:function(t){this.$refs.shopcart.drop(t)},selectFood:function(t,s){this.selectedFood=t,this.$refs.food.show()}},computed:{selectFoods:function(){var t=[];return this.goods.forEach(function(s){s.foods.forEach(function(s){s.count&&t.push(s)})}),t}}},E=$,F=(e("63fd"),Object(h["a"])(E,a,n,!1,null,null,null));s["default"]=F.exports},"5c0b":function(t,s,e){"use strict";var a=e("5e27"),n=e.n(a);n.a},"5c74":function(t,s,e){"use strict";var a=e("a36e"),n=e.n(a);n.a},"5e27":function(t,s,e){},"63fd":function(t,s,e){"use strict";var a=e("9b04"),n=e.n(a);n.a},"64fc":function(t,s,e){},7954:function(t,s,e){},"82c3":function(t,s,e){"use strict";var a=e("64fc"),n=e.n(a);n.a},"834f":function(t,s,e){},"9b04":function(t,s,e){},a14e:function(t,s,e){"use strict";var a=e("7954"),n=e.n(a);n.a},a36e:function(t,s,e){},f352:function(t,s,e){},fe09:function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[t._v("\n\t我是seller\n")])},n=[],i={name:"seller"},o=i,r=e("2877"),l=Object(r["a"])(o,a,n,!1,null,null,null);s["default"]=l.exports}});
//# sourceMappingURL=app.eb98cd95.js.map